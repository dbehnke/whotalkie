## GitHub Copilot / Automated Coding Agent Instructions

Purpose: short, actionable guidance for any automated coding agent (Copilot-style) working in this repository.

- Run the project's linter as the final step of any completed change: `golangci-lint`.

Why: the repository's CI enforces linting (`.github/workflows/go-test.yml`), so ensure changes pass the linter locally before creating a PR.

Quick checklist for completed work
- [ ] Code compiles and unit tests pass (e.g. `go test ./...`).
- [ ] Run `go vet ./...`.
- [x] Run `golangci-lint` and address any findings.

Shell invocation
- When running or showing shell commands, invoke them with `bash -lc '...'` so the command is executed with bash even if the user's default shell is Fish or another shell that may interpret the snippet differently.

Examples:

Bash (recommended; use when your default shell may be Fish):
```bash
# Run the linter via bash so it executes under bash regardless of default shell
bash -lc '
if [ -x ./bin/golangci-lint ]; then
  ./bin/golangci-lint run --timeout=6m
else
  $(go env GOPATH)/bin/golangci-lint run --timeout=6m
fi
'
```

Fish (if you are actively working in Fish and not wrapping with bash):
```fish
# Use the pinned repo helper if present
if test -x ./bin/golangci-lint
  ./bin/golangci-lint run --timeout=6m
else
  # Fallback to GOPATH-installed binary (may need `go install` first)
  (go env GOPATH)/bin/golangci-lint run --timeout=6m
end
```

Recommended local command
See the "Shell invocation" section above; prefer the Bash example when sharing or running commands across environments.

Notes
- The CI already installs and runs `golangci-lint` and `staticcheck` in `.github/workflows/go-test.yml`. Running the linter locally avoids CI failures and speeds up reviews.
- Keep this file short and actionable; if lint rules change, update this file and the CI workflow together.

If you'd like, I can also add a Git pre-commit hook to run the linter automatically before commits.

Docs: MkDocs
- This repository is using MkDocs (material) for published documentation. The source lives under `docs/` and the site is configured with `mkdocs.yml` at the repo root.
- CI deployment: a GitHub Actions workflow (`.github/workflows/mkdocs-deploy.yml`) builds the site and deploys to the `gh-pages` branch using `peaceiris/actions-gh-pages`.

When updating or adding documentation, run locally to preview changes:
```bash
python3 -m venv .venv
source .venv/bin/activate
pip install mkdocs mkdocs-material
mkdocs serve -a 127.0.0.1:8000
```
